{"ast":null,"code":"import React,{useRef,useState}from'react';import{Select,Space,Typography,Flex,Divider,Form,Button,InputNumber,DatePicker,Result}from'antd';import{useCrypto}from'../context/crypto-context';import CoinInfo from'./CoinInfo';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const validateMessages={required:\"${label} is required!\",types:{number:'${label} is no valid number'},number:{range:'${label} must me between ${min} and ${max}'}};const AddAssetForm=_ref=>{let{onClose}=_ref;const[form]=Form.useForm();const{crypto,addAsset}=useCrypto();const[coin,setCoin]=useState(null);const[sumbitted,setSumbitted]=useState(false);const assetRef=useRef();if(sumbitted){return/*#__PURE__*/_jsx(Result,{status:\"success\",title:\"New asset added\",subTitle:\"Addad \".concat(assetRef.current.amount,\" of \").concat(coin.name,\" by rice \").concat(assetRef.current.price),extra:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:onClose,children:\"close\"},\"console\")]});}if(!coin){return/*#__PURE__*/_jsx(Select,{style:{width:'100%'},onSelect:v=>setCoin(crypto.find(c=>c.id===v)),placeholder:'select coin',options:crypto.map(coin=>({lable:coin.name,value:coin.id,icon:coin.icon})),optionRender:option=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(\"img\",{width:25,src:option.data.icon,alt:option.data.lable}),option.data.lable]})});}function onFinish(values){var _values$date$$d,_values$date;const newAsset={id:coin.id,amount:values.amount,price:values.price,date:(_values$date$$d=(_values$date=values.date)===null||_values$date===void 0?void 0:_values$date.$d)!==null&&_values$date$$d!==void 0?_values$date$$d:new Date()};assetRef.current=newAsset;setSumbitted(true);addAsset(newAsset);}function handleamountChange(value){const price=form.getFieldValue('price');form.setFieldsValue({total:+(value*price).toFixed(2)});}function handlePriceChange(value){const amount=form.getFieldValue('amount');form.setFieldsValue({total:+(amount*value).toFixed(2)});}return/*#__PURE__*/_jsxs(Form,{form:form,name:\"basic\",labelCol:{span:4},wrapperCol:{span:10},style:{maxWidth:600},initialValues:{price:+coin.price.toFixed(2)},onFinish:onFinish,validateMessages:validateMessages,children:[/*#__PURE__*/_jsx(CoinInfo,{coin:coin}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Form.Item,{label:\"amount\",name:\"amount\",rules:[{required:true,type:'number',min:0}],children:/*#__PURE__*/_jsx(InputNumber,{placeholder:\"Enter coin amount\",onChange:handleamountChange,style:{width:'100%'}})}),/*#__PURE__*/_jsx(Form.Item,{label:\"price\",name:\"price\",children:/*#__PURE__*/_jsx(InputNumber,{onChange:handlePriceChange,style:{width:'100%'}})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Date & Time\",name:\"date\",children:/*#__PURE__*/_jsx(DatePicker,{showTime:true})}),/*#__PURE__*/_jsx(Form.Item,{label:\"total\",name:\"total\",children:/*#__PURE__*/_jsx(InputNumber,{disabled:true,style:{width:'100%'}})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"Add Asset\"})})]});};export default AddAssetForm;","map":{"version":3,"names":["React","useRef","useState","Select","Space","Typography","Flex","Divider","Form","Button","InputNumber","DatePicker","Result","useCrypto","CoinInfo","jsx","_jsx","jsxs","_jsxs","validateMessages","required","types","number","range","AddAssetForm","_ref","onClose","form","useForm","crypto","addAsset","coin","setCoin","sumbitted","setSumbitted","assetRef","status","title","subTitle","concat","current","amount","name","price","extra","type","onClick","children","style","width","onSelect","v","find","c","id","placeholder","options","map","lable","value","icon","optionRender","option","src","data","alt","onFinish","values","_values$date$$d","_values$date","newAsset","date","$d","Date","handleamountChange","getFieldValue","setFieldsValue","total","toFixed","handlePriceChange","labelCol","span","wrapperCol","maxWidth","initialValues","Item","label","rules","min","onChange","showTime","disabled","htmlType"],"sources":["/Users/admin/Desktop/React/Cripto/CRYPTO/src/components/AddAssetForm.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react'\nimport {Select, Space,Typography , Flex, Divider, Form, Button, InputNumber,  DatePicker, Result } from 'antd'\nimport { useCrypto } from '../context/crypto-context'\nimport CoinInfo from './CoinInfo';\n\n\nconst validateMessages = {\n  required: \"${label} is required!\",\n  types: {\n    number: '${label} is no valid number'\n  },\n  number: {\n    range: '${label} must me between ${min} and ${max}'\n  }\n\n}\n\nconst AddAssetForm = ({onClose}) => {\n  const [form] = Form.useForm()\n  const { crypto, addAsset } = useCrypto()\n  const [coin, setCoin] = useState(null)\n  const [sumbitted, setSumbitted] = useState(false)\n  const assetRef = useRef()\n\n  if(sumbitted){\n    return (\n      <Result\n    status=\"success\"\n    title=\"New asset added\"\n    subTitle={`Addad ${assetRef.current.amount} of ${coin.name} by rice ${assetRef.current.price}`}\n    extra={[\n      <Button type=\"primary\" key=\"console\" onClick={onClose}>\n        close\n      </Button>\n    ]}\n  />\n    )\n  }\n\n  if(!coin){\nreturn (\n  <Select\n  style={{\n    width:'100%'\n  }}\n   onSelect={(v) => setCoin(crypto.find(c => c.id === v))}\n   placeholder={'select coin'}\n   options={crypto.map(coin => ({\n     lable: coin.name,\n     value: coin.id,\n     icon: coin.icon,\n   }))}\n   optionRender={(option) => (\n     <Space>\n       <img width={25} src={option.data.icon} alt={option.data.lable}/>{option.data.lable}\n     </Space>\n   )}\n />\n)\n  }\n  function onFinish(values) {\n    const newAsset = {\n      id: coin.id,\n      amount: values.amount,\n      price: values.price,\n      date: values.date ?.$d ?? new Date(),\n    }\n\n    assetRef.current = newAsset\n    setSumbitted(true)\n    addAsset(newAsset)\n\n  }\n\n  function handleamountChange(value) {\n    const price = form.getFieldValue('price')\n\n    form.setFieldsValue({\n      total: +(value * price).toFixed(2),\n    }) \n  }\n  function handlePriceChange(value) {\n    const amount = form.getFieldValue('amount')\n    form.setFieldsValue({\n      total: +(amount * value).toFixed(2),\n    }) \n  }\n\n  return (\n    <Form\n    form={form}\n    name=\"basic\"\n    labelCol={{\n      span: 4,\n    }}\n    wrapperCol={{\n      span: 10,\n    }}\n    style={{\n      maxWidth: 600,\n    }}\n    initialValues={{\n     price: +coin.price.toFixed(2)\n    }}\n    onFinish={onFinish}\n    validateMessages={validateMessages}\n  >\n    <CoinInfo coin={coin}/>\n      <Divider/>\n      <Form.Item\n      label=\"amount\"\n      name=\"amount\"\n      rules={[\n        {\n          required: true,\n          type: 'number',\n          min: 0,\n        },\n      ]}\n    >\n      <InputNumber placeholder='Enter coin amount' \n      onChange={handleamountChange}\n      style={{width: '100%'}}\n  />\n    </Form.Item>\n\n    <Form.Item label=\"price\" name=\"price\">\n      <InputNumber onChange={ handlePriceChange} style={{width: '100%'}} />\n    </Form.Item>\n\n    <Form.Item label=\"Date & Time\" name=\"date\">\n    <DatePicker showTime/>\n    </Form.Item>\n\n    <Form.Item label=\"total\" name=\"total\">\n      <InputNumber disabled style={{width: '100%'}} />\n    </Form.Item>\n\n\n    <Form.Item>\n      <Button type=\"primary\" htmlType=\"submit\">\n        Add Asset\n      </Button>\n    </Form.Item>\n  </Form>\n  \n\n  )\n}\n\nexport default AddAssetForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}